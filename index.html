<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Am I The Penguin?</title>
<meta name="description" content="One question. One truth. Are you the penguin?">
<meta property="og:title" content="Am I The Penguin?">
<meta property="og:description" content="One question. One truth. You already know the answer.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://am-i-a-penguin.netlify.app">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Am I The Penguin?">
<meta name="twitter:description" content="One question. One truth. You already know the answer.">
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cellipse cx='32' cy='38' rx='16' ry='22' fill='%231a1a2e'/%3E%3Cellipse cx='32' cy='42' rx='10' ry='16' fill='%23e0e0e0'/%3E%3Ccircle cx='32' cy='18' r='12' fill='%231a1a2e'/%3E%3Ccircle cx='27' cy='16' r='2.5' fill='white'/%3E%3Ccircle cx='37' cy='16' r='2.5' fill='white'/%3E%3Ccircle cx='27' cy='16' r='1' fill='%23111'/%3E%3Ccircle cx='37' cy='16' r='1' fill='%23111'/%3E%3Cpolygon points='32,19 28,24 36,24' fill='%23e8943a'/%3E%3Cellipse cx='22' cy='58' rx='6' ry='2.5' fill='%23e8943a'/%3E%3Cellipse cx='42' cy='58' rx='6' ry='2.5' fill='%23e8943a'/%3E%3C/svg%3E">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Space Mono', monospace;
    background: #0a0a1a;
    color: #e0e0e0;
    min-height: 100vh;
    overflow: hidden;
    user-select: none;
    -webkit-user-select: none;
  }

  .stars {
    position: fixed;
    inset: 0;
    z-index: 0;
  }

  .star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: #fff;
    border-radius: 50%;
    animation: twinkle 3s ease-in-out infinite alternate;
  }

  @keyframes twinkle {
    0% { opacity: 0.2; }
    100% { opacity: 1; }
  }

  .landscape {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 40vh;
    z-index: 1;
  }

  .snow-ground {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 22vh;
    background: linear-gradient(180deg, #1a1a3a 0%, #12122a 100%);
  }

  .horizon-line {
    position: absolute;
    bottom: 20vh;
    left: 0;
    right: 0;
    height: 1px;
    background: rgba(255, 255, 255, 0.03);
  }

  .mountains {
    position: absolute;
    bottom: 20vh;
    left: 0;
    right: 0;
    height: 20vh;
  }

  .mountain {
    position: absolute;
    bottom: 0;
    width: 0;
    height: 0;
    border-style: solid;
  }

  .mountain-1 {
    left: 5%;
    border-width: 0 80px 14vh 100px;
    border-color: transparent transparent #151530 transparent;
  }

  .mountain-2 {
    left: 25%;
    border-width: 0 120px 18vh 140px;
    border-color: transparent transparent #111128 transparent;
  }

  .mountain-3 {
    left: 55%;
    border-width: 0 100px 15vh 130px;
    border-color: transparent transparent #131330 transparent;
  }

  .mountain-4 {
    right: 5%;
    border-width: 0 90px 12vh 110px;
    border-color: transparent transparent #141432 transparent;
  }

  .sunset-glow {
    position: fixed;
    left: 50%;
    bottom: 18vh;
    width: 0;
    height: 0;
    border-radius: 50%;
    transform: translateX(-50%);
    background: radial-gradient(circle, rgba(255, 150, 50, 0.25) 0%, rgba(255, 80, 30, 0.08) 50%, transparent 70%);
    z-index: 2;
    opacity: 0;
    transition: width 3s ease, height 3s ease, opacity 2s ease;
    pointer-events: none;
  }

  .sunset-glow.visible {
    width: 600px;
    height: 400px;
    opacity: 1;
  }

  /* --- SNOW PARTICLES --- */
  .snow-particle {
    position: fixed;
    width: 3px;
    height: 3px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 50%;
    z-index: 3;
    pointer-events: none;
  }

  /* --- PENGUIN --- */
  .penguin-wrap {
    position: fixed;
    left: 50%;
    bottom: 14vh;
    z-index: 5;
    transform: translateX(-50%);
    will-change: transform, opacity;
  }

  .penguin-svg {
    width: 60px;
    height: 80px;
    display: block;
  }

  .penguin-svg .p-body { fill: #1a1a2e; }
  .penguin-svg .p-belly { fill: #d4d4d4; }
  .penguin-svg .p-beak { fill: #e8943a; }
  .penguin-svg .p-eye-w { fill: #fff; }
  .penguin-svg .p-eye-b { fill: #111; }
  .penguin-svg .p-foot { fill: #e8943a; }

  .penguin-svg.silhouette {
    filter: drop-shadow(0 0 8px rgba(200, 180, 255, 0.5))
            drop-shadow(0 0 25px rgba(160, 130, 220, 0.2));
  }
  .penguin-svg.silhouette .p-body { fill: #252540; }
  .penguin-svg.silhouette .p-belly,
  .penguin-svg.silhouette .p-beak,
  .penguin-svg.silhouette .p-eye-w,
  .penguin-svg.silhouette .p-eye-b,
  .penguin-svg.silhouette .p-foot {
    fill: #252540;
  }

  .penguin-svg .p-body,
  .penguin-svg .p-belly,
  .penguin-svg .p-beak,
  .penguin-svg .p-eye-w,
  .penguin-svg .p-eye-b,
  .penguin-svg .p-foot {
    transition: fill 0.5s ease;
  }

  /* --- FOOTPRINTS --- */
  .footprint {
    position: fixed;
    background: rgba(200, 210, 230, 0.08);
    border-radius: 50%;
    z-index: 4;
    pointer-events: none;
  }

  /* --- QUESTION --- */
  .scene {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 10;
  }

  .question-screen {
    text-align: center;
    padding: 20px;
    transition: opacity 0.6s ease, transform 0.6s ease;
  }

  .question-screen.hidden {
    opacity: 0;
    transform: translateY(-20px);
    pointer-events: none;
  }

  .question-screen h1 {
    font-size: clamp(1.4rem, 4vw, 2.4rem);
    font-weight: 700;
    line-height: 1.4;
    margin-bottom: 50px;
    color: #fff;
    text-shadow: 0 0 40px rgba(100, 140, 255, 0.3);
  }

  .buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .btn {
    font-family: 'Space Mono', monospace;
    font-size: 1.1rem;
    font-weight: 700;
    padding: 16px 48px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    background: rgba(255, 255, 255, 0.05);
    color: #fff;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    letter-spacing: 1px;
  }

  .btn:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.6);
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(100, 140, 255, 0.2);
  }

  .btn:active { transform: translateY(0); }

  /* --- RESULT --- */
  .result-screen {
    position: fixed;
    inset: 0;
    z-index: 10;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1s ease;
    padding: 20px;
  }

  .result-screen.visible {
    opacity: 1;
    pointer-events: auto;
  }

  .result-text {
    font-size: clamp(1.2rem, 3.5vw, 2rem);
    font-weight: 700;
    text-align: center;
    color: #fff;
    text-shadow: 0 0 40px rgba(100, 140, 255, 0.3);
    margin-bottom: 40px;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1s ease 0.5s, transform 1s ease 0.5s;
  }

  .result-screen.visible .result-text {
    opacity: 1;
    transform: translateY(0);
  }

  .share-row {
    display: flex;
    gap: 12px;
    margin-top: 30px;
    opacity: 0;
    transition: opacity 1s ease 1.5s;
  }

  .result-screen.visible .share-row { opacity: 1; }

  .share-btn {
    font-family: 'Space Mono', monospace;
    font-size: 0.75rem;
    padding: 10px 20px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    background: rgba(255, 255, 255, 0.05);
    color: rgba(255, 255, 255, 0.6);
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    display: inline-block;
  }

  .share-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
    border-color: rgba(255, 255, 255, 0.4);
  }

  .try-again {
    font-family: 'Space Mono', monospace;
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.25);
    background: none;
    border: none;
    cursor: pointer;
    margin-top: 30px;
    padding: 8px;
    opacity: 0;
    transition: opacity 1s ease 2.5s, color 0.3s ease;
  }

  .result-screen.visible .try-again { opacity: 1; }
  .try-again:hover { color: rgba(255, 255, 255, 0.5); }

  .counter {
    position: fixed;
    bottom: 16px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.65rem;
    color: rgba(255, 255, 255, 0.15);
    z-index: 20;
    text-align: center;
  }
</style>
</head>
<body>

<div class="stars" id="stars"></div>

<div class="landscape">
  <div class="mountains">
    <div class="mountain mountain-1"></div>
    <div class="mountain mountain-2"></div>
    <div class="mountain mountain-3"></div>
    <div class="mountain mountain-4"></div>
  </div>
  <div class="horizon-line"></div>
  <div class="snow-ground"></div>
</div>

<div class="sunset-glow" id="sunsetGlow"></div>

<div class="penguin-wrap" id="penguin">
  <svg class="penguin-svg" id="penguinSvg" viewBox="0 0 60 80" xmlns="http://www.w3.org/2000/svg">
    <g id="waddleGroup" transform-origin="30 70">
      <ellipse class="p-body" cx="30" cy="42" rx="18" ry="28"/>
      <ellipse class="p-belly" cx="30" cy="46" rx="11" ry="20"/>
      <circle class="p-body" cx="30" cy="18" r="13"/>
      <circle class="p-eye-w" cx="25" cy="16" r="2.5"/>
      <circle class="p-eye-w" cx="35" cy="16" r="2.5"/>
      <circle class="p-eye-b" cx="25" cy="16" r="1.2"/>
      <circle class="p-eye-b" cx="35" cy="16" r="1.2"/>
      <polygon class="p-beak" points="30,19 26,24 34,24"/>
      <ellipse class="p-body" cx="14" cy="45" rx="6" ry="3" transform="rotate(-20 14 45)"/>
      <ellipse class="p-body" cx="46" cy="45" rx="6" ry="3" transform="rotate(20 46 45)"/>
      <ellipse class="p-foot" cx="23" cy="70" rx="7" ry="3"/>
      <ellipse class="p-foot" cx="37" cy="70" rx="7" ry="3"/>
    </g>
  </svg>
</div>

<div class="scene">
  <div class="question-screen" id="questionScreen">
    <h1>Do you want to walk away<br>from everything right now?</h1>
    <div class="buttons">
      <button class="btn" onclick="answer('yes')">Yes</button>
      <button class="btn" onclick="answer('no')">No</button>
    </div>
  </div>
</div>

<div class="result-screen" id="resultScreen">
  <div class="result-text" id="resultText"></div>
  <div class="share-row">
    <a class="share-btn" id="shareTwitter" href="#" target="_blank" rel="noopener">Share on X</a>
    <button class="share-btn" id="shareCopy" onclick="copyLink()">Copy link</button>
  </div>
  <button class="try-again" onclick="reset()">(take the test again. it won't help.)</button>
</div>

<div class="counter" id="counter"></div>

<script>
  const SHARE_URL = 'https://am-i-a-penguin.netlify.app';
  const COUNT_KEY = 'penguin_count';

  let walkFrame = null;
  let snowFrame = null;
  const tempEls = [];

  function $(id) { return document.getElementById(id); }
  function ease(t) { return t < 0.5 ? 4*t*t*t : 1 - Math.pow(-2*t+2, 3)/2; }
  function lerp(a, b, t) { return a + (b - a) * t; }
  function pick(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

  function createStars() {
    const c = $('stars');
    for (let i = 0; i < 90; i++) {
      const s = document.createElement('div');
      s.className = 'star';
      s.style.left = Math.random()*100+'%';
      s.style.top = Math.random()*60+'%';
      s.style.animationDelay = Math.random()*3+'s';
      s.style.animationDuration = (2+Math.random()*3)+'s';
      const sz = Math.random()>0.85 ? 3 : Math.random()>0.5 ? 2 : 1;
      s.style.width = sz+'px'; s.style.height = sz+'px';
      c.appendChild(s);
    }
  }

  function getCount() { const v = localStorage.getItem(COUNT_KEY); return v ? parseInt(v) : 2847193; }
  function incrementCount() { const c = getCount()+1; localStorage.setItem(COUNT_KEY, c); return c; }
  function updateCounter() { $('counter').textContent = getCount().toLocaleString()+' penguins have walked away'; }

  function addTemp(el) { document.body.appendChild(el); tempEls.push(el); }
  function clearTemp() { tempEls.forEach(e => e.remove()); tempEls.length = 0; }

  function dropFootprint(x, y, scale) {
    const sz = Math.max(2, 6*scale);
    const fp = document.createElement('div');
    fp.className = 'footprint';
    fp.style.left = (x - sz/2)+'px';
    fp.style.top = y+'px';
    fp.style.width = sz+'px';
    fp.style.height = (sz*0.5)+'px';
    fp.style.opacity = Math.min(0.15, 0.15*scale);
    addTemp(fp);
  }

  const snowState = [];
  function startSnow() {
    for (let i = 0; i < 25; i++) {
      const p = document.createElement('div');
      p.className = 'snow-particle';
      const sz = 1+Math.random()*2.5;
      p.style.width = sz+'px'; p.style.height = sz+'px';
      addTemp(p);
      snowState.push({
        el: p,
        x: Math.random()*innerWidth,
        y: Math.random()*innerHeight,
        vy: 0.3+Math.random()*0.6,
        vx: -0.4-Math.random()*0.5,
        d: Math.random()*Math.PI*2,
      });
    }
    (function loop() {
      for (const s of snowState) {
        s.y += s.vy; s.x += s.vx + Math.sin(s.d)*0.3; s.d += 0.01;
        if (s.y > innerHeight) { s.y = -5; s.x = Math.random()*innerWidth; }
        if (s.x < -10) s.x = innerWidth+5;
        s.el.style.transform = 'translate('+s.x+'px,'+s.y+'px)';
      }
      snowFrame = requestAnimationFrame(loop);
    })();
  }
  function stopSnow() {
    if (snowFrame) cancelAnimationFrame(snowFrame);
    snowFrame = null;
    snowState.length = 0;
  }

  // --- PENGUIN REFS ---
  function getPenguin() { return $('penguin'); }
  function getWG() { return $('waddleGroup'); }
  function getSVG() { return $('penguinSvg'); }

  // --- ANIMATION: RESOLUTE WALK ---
  function animResolute(onDone) {
    const p = getPenguin(), wg = getWG(), H = innerHeight;
    const drift = pick([0, -50, 60]);
    const dur = 3000;
    const endY = -(H * 0.05);
    const start = performance.now();
    let lastFp = 0, side = 1;

    function tick(now) {
      const raw = Math.min((now - start) / dur, 1);
      const t = ease(raw);
      const x = lerp(0, drift, t);
      const y = lerp(0, endY, t);
      const sc = lerp(1, 0.15, t);
      const w = Math.sin((now-start)*0.016) * lerp(5, 1.5, raw);
      p.style.transform = 'translateX(calc(-50% + '+x+'px)) translateY('+y+'px) scale('+sc+')';
      p.style.opacity = raw > 0.75 ? lerp(1, 0.25, (raw-0.75)/0.25) : 1;
      wg.setAttribute('transform', 'rotate('+w+' 30 70)');
      if (raw - lastFp > 0.04 && raw < 0.85) {
        side *= -1;
        const r = p.getBoundingClientRect();
        dropFootprint(r.left+r.width/2+side*3*sc, r.bottom-2*sc, sc);
        lastFp = raw;
      }
      if (raw < 1) walkFrame = requestAnimationFrame(tick);
      else onDone();
    }
    walkFrame = requestAnimationFrame(tick);
  }

  // --- ANIMATION: BELLY SLIDE ---
  function animBellySlide(onDone) {
    const p = getPenguin(), wg = getWG(), H = innerHeight;
    const dur = 3000;
    const tiltEnd = 0.25;
    const drift = pick([-40, 0, 30]);
    const endY = -(H * 0.05);
    const start = performance.now();

    function tick(now) {
      const raw = Math.min((now - start) / dur, 1);

      let tilt, x, y, sc;
      if (raw < tiltEnd) {
        const lt = raw / tiltEnd;
        tilt = lerp(0, 75, ease(lt));
        x = 0; y = 0; sc = 1;
      } else {
        const st = (raw - tiltEnd) / (1 - tiltEnd);
        const et = ease(st);
        tilt = 75;
        x = lerp(0, drift, et);
        y = lerp(0, endY, et);
        sc = lerp(1, 0.12, et);
      }

      const bounce = raw >= tiltEnd ? Math.sin((now-start)*0.025)*2*(1-ease((raw-tiltEnd)/(1-tiltEnd))) : 0;
      p.style.transform = 'translateX(calc(-50% + '+x+'px)) translateY('+(y+bounce)+'px) scale('+sc+')';
      p.style.opacity = raw > 0.8 ? lerp(1, 0.2, (raw-0.8)/0.2) : 1;
      wg.setAttribute('transform', 'rotate('+tilt+' 30 70)');

      if (raw < 1) walkFrame = requestAnimationFrame(tick);
      else onDone();
    }
    walkFrame = requestAnimationFrame(tick);
  }

  // --- ANIMATION: DRAMATIC TURN ---
  function animDramaticTurn(onDone) {
    const p = getPenguin(), wg = getWG(), svg = getSVG(), H = innerHeight;
    const dur = 3500;
    const pauseEnd = 0.12;
    const turnEnd = 0.22;
    const endY = -(H * 0.05);
    const drift = pick([-30, 0, 20]);
    const start = performance.now();
    let lastFp = 0, side = 1;

    function tick(now) {
      const raw = Math.min((now - start) / dur, 1);

      if (raw < pauseEnd) {
        p.style.transform = 'translateX(-50%) scale(1)';
        wg.setAttribute('transform', '');
      } else if (raw < turnEnd) {
        const tt = (raw - pauseEnd) / (turnEnd - pauseEnd);
        const scX = lerp(1, -1, ease(tt));
        svg.style.transform = 'scaleX('+scX+')';
        p.style.transform = 'translateX(-50%) scale(1)';
      } else {
        const wt = (raw - turnEnd) / (1 - turnEnd);
        const et = ease(wt);
        const x = lerp(0, drift, et);
        const y = lerp(0, endY, et);
        const sc = lerp(1, 0.15, et);
        const w = Math.sin((now-start)*0.016) * lerp(5, 1.5, wt);
        p.style.transform = 'translateX(calc(-50% + '+x+'px)) translateY('+y+'px) scale('+sc+')';
        p.style.opacity = wt > 0.75 ? lerp(1, 0.25, (wt-0.75)/0.25) : 1;
        wg.setAttribute('transform', 'rotate('+w+' 30 70)');
        if (wt - lastFp > 0.05 && wt < 0.85) {
          side *= -1;
          const r = p.getBoundingClientRect();
          dropFootprint(r.left+r.width/2+side*3*sc, r.bottom-2*sc, sc);
          lastFp = wt;
        }
      }

      if (raw < 1) walkFrame = requestAnimationFrame(tick);
      else onDone();
    }
    walkFrame = requestAnimationFrame(tick);
  }

  // --- ANIMATION: SINK INTO VOID ---
  function animSink(onDone) {
    const p = getPenguin(), wg = getWG(), H = innerHeight;
    const dur = 3500;
    const walkPhase = 0.35;
    const start = performance.now();
    let lastFp = 0, side = 1;

    function tick(now) {
      const raw = Math.min((now - start) / dur, 1);

      if (raw < walkPhase) {
        const wt = raw / walkPhase;
        const et = ease(wt);
        const y = lerp(0, -(H*0.02), et);
        const sc = lerp(1, 0.7, et);
        const w = Math.sin((now-start)*0.016) * 5;
        p.style.transform = 'translateX(-50%) translateY('+y+'px) scale('+sc+')';
        wg.setAttribute('transform', 'rotate('+w+' 30 70)');
        if (wt - lastFp > 0.08) {
          side *= -1;
          const r = p.getBoundingClientRect();
          dropFootprint(r.left+r.width/2+side*3*sc, r.bottom-2, sc);
          lastFp = wt;
        }
      } else {
        const st = (raw - walkPhase) / (1 - walkPhase);
        const et = ease(st);
        const baseY = -(H*0.02);
        const sc = 0.7;
        const clip = lerp(0, 110, et);
        p.style.transform = 'translateX(-50%) translateY('+baseY+'px) scale('+sc+')';
        p.style.clipPath = 'inset(0 0 '+clip+'% 0)';
        p.style.opacity = lerp(1, 0.5, et);
        wg.setAttribute('transform', '');
      }

      if (raw < 1) walkFrame = requestAnimationFrame(tick);
      else onDone();
    }
    walkFrame = requestAnimationFrame(tick);
  }

  // --- DISPATCH ---
  const ANIMATIONS = [animDramaticTurn];

  function runAnimation(onDone) {
    getSVG().classList.add('silhouette');
    startSnow();
    pick(ANIMATIONS)(onDone);
  }

  function answer(choice) {
    const qs = $('questionScreen');
    const rs = $('resultScreen');
    const rt = $('resultText');
    const sg = $('sunsetGlow');

    rt.innerHTML = choice === 'yes'
      ? 'You are the penguin.<br>Walk free.'
      : "You're lying.<br>You are still the penguin.";

    const shareText = choice === 'yes'
      ? 'I am the penguin.\n'+SHARE_URL
      : 'I tried to deny it. I am still the penguin.\n'+SHARE_URL;
    $('shareTwitter').href = 'https://x.com/intent/tweet?text='+encodeURIComponent(shareText);

    qs.classList.add('hidden');
    setTimeout(() => {
      sg.classList.add('visible');
      runAnimation(() => rs.classList.add('visible'));
    }, 400);

    incrementCount();
    updateCounter();
  }

  function copyLink() {
    navigator.clipboard.writeText(SHARE_URL).then(() => {
      const btn = $('shareCopy');
      btn.textContent = 'Copied';
      setTimeout(() => btn.textContent = 'Copy link', 2000);
    });
  }

  function reset() {
    if (walkFrame) { cancelAnimationFrame(walkFrame); walkFrame = null; }
    stopSnow();

    const p = getPenguin(), svg = getSVG(), wg = getWG();
    const qs = $('questionScreen'), rs = $('resultScreen'), sg = $('sunsetGlow');

    rs.classList.remove('visible');
    sg.classList.remove('visible');

    setTimeout(() => {
      clearTemp();
      p.style.transform = 'translateX(-50%)';
      p.style.opacity = '1';
      p.style.clipPath = '';
      svg.style.transform = '';
      svg.classList.remove('silhouette');
      wg.setAttribute('transform', '');
      qs.classList.remove('hidden');
    }, 500);
  }

  createStars();
  updateCounter();
</script>

</body>
</html>
